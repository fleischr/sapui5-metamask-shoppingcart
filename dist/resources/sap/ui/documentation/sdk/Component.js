/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/core/UIComponent","sap/ui/VersionInfo","sap/ui/Device","sap/ui/documentation/sdk/model/models","sap/ui/documentation/sdk/controller/ErrorHandler","sap/ui/model/json/JSONModel","sap/ui/documentation/sdk/controller/util/ConfigUtil","sap/base/util/Version","sap/ui/documentation/sdk/util/Resources","sap/base/Log","sap/ui/documentation/sdk/util/DocumentationRouter","sap/m/ColumnListItem"],function(e,s,t,o,i,n,r,a,u,l,c){"use strict";return s.extend("sap.ui.documentation.sdk.Component",{metadata:{manifest:"json",includes:["css/style.css"]},init:function(){this._oErrorHandler=new n(this);this.setModel(i.createDeviceModel(),"device");this.setModel(new r,"libsData");this.setModel(new r,"versionData");this.setModel(new r({includeDeprecated:false}),"searchData");s.prototype.init.apply(this,arguments);this.loadVersionInfo().then(this._bindVersionModel.bind(this));this.getRouter().initialize()},getCookiesManagement:function(){var e="sap.ui.documentation.sdk.cookieSettingsDialog";if(!this._oCookiesComponent){this._oCookiesComponent=this.runAsOwner(function(){this._oCookiesComponent=sap.ui.getCore().createComponent({id:"cookiesComp-"+e,name:e});return this._oCookiesComponent}.bind(this))}return this._oCookiesComponent},destroy:function(){this._oErrorHandler.destroy();this._oConfigUtil.destroy();this._oConfigUtil=null;this._oCookiesComponent&&this._oCookiesComponent.destroy();s.prototype.destroy.apply(this,arguments)},getContentDensityClass:function(){if(!this._sContentDensityClass){if(!o.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}}return this._sContentDensityClass},getConfigUtil:function(){if(!this._oConfigUtil){this._oConfigUtil=new a(this)}return this._oConfigUtil},loadVersionInfo:function(){return new Promise(function(s,t){e.ajax({async:true,url:l.getResourceOriginPath("resources/sap-ui-version.json"),dataType:"json",success:function(e){s(e)},error:function(e){t(e)}})})},loadMessagesInfo:function(){var s=this;if(this.oMessagesInfo){return this.oMessagesInfo}return new Promise(function(t,o){e.ajax({async:true,url:sap.ui.require.toUrl("sap/ui/documentation/sdk/model/messagesData.json"),dataType:"json",success:function(e){t(e);s.oMessagesInfo=e},error:function(e){o(e)}})})},_bindVersionModel:function(e){var s,t,o,i,n,r,a=l.getResourcesVersion();this.aAllowedMembers=["public","protected"];if(!e){return}s=u(e.version);i=s.getSuffix();t=/-SNAPSHOT$/i.test(i);o=e.gav&&/openui5/i.test(e.gav);r=e.libraries.some(function(e){return e.name==="sap.webanalytics.core"});if(/internal/i.test(e.name)){n=true;this.aAllowedMembers.push("restricted")}this.getModel("versionData").setData({versionGav:e.gav,versionName:e.name,version:[s.getMajor(),s.getMinor(),s.getPatch()].join("."),fullVersion:e.version,openUi5Version:a||sap.ui.version,isOpenUI5:o,isSnapshotVersion:t,isDevVersion:t,isBetaVersion:!o&&!t&&/-beta$/i.test(i),isInternal:!!n,supportsSWA:r,libraries:e.libraries,allowedMembers:this.aAllowedMembers})}})});