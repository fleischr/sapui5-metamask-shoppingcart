/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","./DataTableFilterDropDownRenderer"],function(t,e,i){"use strict";var n=e.extend("sap.ui.documentation.sdk.DataTableFilterDropDown",{metadata:{properties:{checked:{type:"array",defaultValue:[]},options:{type:"array",defaultValue:[]},expanded:{type:"boolean",defaultValue:false,visibility:"hidden"}}},renderer:i});n.M_EVENTS={CHANGE:"change"};n.isCheckbox=function(t){return t.tagName.toLowerCase()==="input"&&t.type==="checkbox"};n.prototype.setAll=function(t){var e=this.getChecked();for(var i=0;i<e.length;i++){e[i].value=t;this.optionsList.find("input[index="+i+"]").prop("checked",t)}this.setChecked(e,true)};n.prototype.init=function(){this.setChecked([])};n.prototype.onBeforeRendering=function(){var t=this.getChecked(),e;if(t.length===0){e=this.getOptions();for(var i=0;i<e.length;i++){t[i]={text:e[i],value:false}}this.setChecked(t,true)}this.detachEvents()};n.prototype.onAfterRendering=function(){this.cacheElements();this.attachEvents()};n.prototype.cacheElements=function(){this.filterBtn=this.$("filterBtn");this.optionsList=this.$("optionsList")};n.prototype.detachEvents=function(){if(this.filterBtn){this.filterBtn.off("click")}if(this.optionsList){this.optionsList.off("click")}};n.prototype.attachEvents=function(){this.filterBtn.on("click",function(){this.setProperty("expanded",!this.getProperty("expanded"))}.bind(this));this.optionsList.on("click",this.onClick.bind(this))};n.prototype.onsapfocusleave=function(t){this.setProperty("expanded",false)};n.prototype.onClick=function(t){var e,i=this.getChecked(),s=t.target,o=n.isCheckbox(s),r=s.classList.contains("selectAll"),a=s.classList.contains("clearFilter"),l=o||r||a;if(o){e=s.getAttribute("index");i[e].value=t.target.checked;this.setProperty("checked",i,true)}else if(r){this.setAll(true,false)}else if(a){this.setAll(false,false)}if(l){this.fireEvent("change",{value:i})}};n.prototype.getDefaultOptions=function(t){return[{text:"Clear Filter",key:"clearFilter"},{text:"Select All",key:"selectAll"}]};return n});